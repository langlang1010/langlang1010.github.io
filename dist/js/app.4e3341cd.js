(function(t){function n(n){for(var a,r,o=n[0],u=n[1],c=n[2],d=0,p=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&p.push(i[r][0]),i[r]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);l&&l(n);while(p.length)p.shift()();return s.push.apply(s,c||[]),e()}function e(){for(var t,n=0;n<s.length;n++){for(var e=s[n],a=!0,o=1;o<e.length;o++){var u=e[o];0!==i[u]&&(a=!1)}a&&(s.splice(n--,1),t=r(r.s=e[0]))}return t}var a={},i={app:0},s=[];function r(n){if(a[n])return a[n].exports;var e=a[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=t,r.c=a,r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var a in t)r.d(e,a,function(n){return t[n]}.bind(null,a));return e},r.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=n,o=o.slice();for(var c=0;c<o.length;c++)n(o[c]);var l=u;s.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"034f":function(t,n,e){"use strict";var a=e("ee1a"),i=e.n(a);i.a},"192d":function(t,n,e){"use strict";var a=e("8c2b"),i=e.n(a);i.a},"2d54":function(t,n,e){"use strict";var a=e("7369"),i=e.n(a);i.a},"56d7":function(t,n,e){"use strict";e.r(n);e("a133"),e("ed0d"),e("f09c"),e("e117");var a=e("0261"),i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("router-view"),e("b-nav",{staticClass:"fixed-bottom bg-light",attrs:{justified:""}},[e("b-nav-item",{on:{click:function(n){return t.change_active(0)}}},[0===t.active?[e("b-icon",{attrs:{icon:"plus-circle-fill"}})]:[e("b-icon",{attrs:{icon:"plus-circle"}})],e("br"),e("small",[t._v("记账")])],2),e("b-nav-item",{on:{click:function(n){return t.change_active(1)}}},[1===t.active?[e("b-icon",{attrs:{icon:"tag-fill"}})]:[e("b-icon",{attrs:{icon:"tag"}})],e("br"),e("small",[t._v("标签")])],2),e("b-nav-item",{on:{click:function(n){return t.change_active(2)}}},[2===t.active?[e("b-icon",{attrs:{icon:"bar-chart-fill"}})]:[e("b-icon",{attrs:{icon:"bar-chart"}})],e("br"),e("small",[t._v("统计")])],2)],1)],1)},s=[],r=(e("ecb4"),e("053b"),{name:"App",components:{},data:function(){return{active:0,all_routers:["/","/tag","/stastic"]}},methods:{change_active:function(t){this.active=t,this.$router.push({path:this.all_routers[t]})}},mounted:function(){var t=this.$router.currentRoute.name.toLowerCase(),n=["record","tag","stastic"];this.active=n.indexOf(t),document.querySelector(".fixed-bottom").scrollIntoView()}}),o=r,u=(e("034f"),e("e90a")),c=Object(u["a"])(o,i,s,!1,null,null,null),l=c.exports,d=e("b220"),p=e("ad6d"),f=(e("d52a"),e("8730"),e("1bee")),m=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"record"},[e("div",{staticStyle:{"overflow-y":"scroll"}},t._l(t.list,(function(n,a){return e("ul",{key:a,staticClass:"ulstyle"},[e("li",{class:{biaostyle:n.isactive,biaotwostyle:n.isactive2},on:{click:function(e){return t.everytag(n)}}},[t._v(t._s(n.content))])])})),0),e("div",[e("b-form-input",{attrs:{placeholder:"备注"},model:{value:t.text,callback:function(n){t.text=n},expression:"text"}})],1),e("div",[e("div",[e("b-tabs",{attrs:{"content-class":"mt-3",justified:""}},[e("b-tab",{attrs:{title:"支出",active:""},on:{click:function(n){t.tab_in=!1}}},[e("p",{staticStyle:{"text-align":"right"}},[t._v(t._s(t.input_num))])]),e("b-tab",{attrs:{title:"收入"},on:{click:function(n){t.tab_in=!0}}},[e("p",{staticStyle:{"text-align":"right"}},[t._v(t._s(t.input_num))])])],1)],1)]),e("div",[e("b-button",{staticClass:"num-button",attrs:{squared:"",variant:"secondary"},on:{click:function(n){return t.input(1)}}},[t._v("1")]),e("b-button",{staticClass:"num-button",attrs:{squared:"",variant:"secondary"},on:{click:function(n){return t.input(2)}}},[t._v("2")]),e("b-button",{staticClass:"num-button",attrs:{squared:"",variant:"secondary"},on:{click:function(n){return t.input(3)}}},[t._v("3")]),e("b-button",{staticClass:"num-button",attrs:{squared:"",variant:"secondary"},on:{click:function(n){return t.del()}}},[t._v("删除")]),e("b-button",{staticClass:"num-button",attrs:{squared:"",variant:"secondary"},on:{click:function(n){return t.input(4)}}},[t._v("4")]),e("b-button",{staticClass:"num-button",attrs:{squared:"",variant:"secondary"},on:{click:function(n){return t.input(5)}}},[t._v("5")]),e("b-button",{staticClass:"num-button",attrs:{squared:"",variant:"secondary"},on:{click:function(n){return t.input(6)}}},[t._v("6")]),e("b-button",{staticClass:"num-button",attrs:{squared:"",variant:"secondary"},on:{click:function(n){return t.clear()}}},[t._v("清空")]),e("b-button",{staticClass:"num-button",attrs:{squared:"",variant:"secondary"},on:{click:function(n){return t.input(7)}}},[t._v("7")]),e("b-button",{staticClass:"num-button",attrs:{squared:"",variant:"secondary"},on:{click:function(n){return t.input(8)}}},[t._v("8")]),e("b-button",{staticClass:"num-button",attrs:{squared:"",variant:"secondary"},on:{click:function(n){return t.input(9)}}},[t._v("9")]),e("b-button",{staticClass:"num-button-ok",attrs:{squared:"",variant:"secondary"},on:{click:function(n){return t.pushmoney()}}},[t._v("OK")]),e("b-button",{staticClass:"num-button-zero",attrs:{squared:"",variant:"secondary"},on:{click:function(n){return t.input(0)}}},[t._v("0")]),e("b-button",{staticClass:"num-button",attrs:{squared:"",variant:"secondary"},on:{click:function(n){return t.add_point()}}},[t._v(".")])],1)])},g=[],v=(e("e18c"),e("84c2"),e("e35a"),e("1c2e"),e("898e"),e("5e9f"),{data:function(){return{input_num:"0",point:!1,tag:["衣","食","住","行"],income:"",outcome:"",text:"",list:"",tab_in:!1,choosetag:[]}},mounted:function(){var t=localStorage.getItem("tags"),n=null;void 0===t||null===t?(n=this.tag,window.localStorage.tags=JSON.stringify(n)):n=JSON.parse(t);for(var e=n.length,a=0;a<e;++a){var i=n[a];n[a]={isactive:!0,isactive2:!1,content:i}}this.list=n},methods:{input:function(t){"0"===this.input_num?this.input_num=t+"":this.input_num+=t},add_point:function(){this.point||(this.point=!0,this.input_num+=".")},clear:function(){this.input_num="0",this.point=!1},del:function(){var t=this.input_num.length;"."===this.input_num.charAt(t-1)&&(this.point=!1),this.input_num=this.input_num.substr(0,this.input_num.length-1)},pushmoney:function(){var t=this.input_num.indexOf("."),n=this.input_num.length,e=this.input_num.substr(t+1,n),a=e.length;a>2&&-1!==t?(alert("输入金额不对"),this.input_num="0"):(this.income=parseFloat(this.input_num),this.point=!1);for(var i=this.list.length,s=0;s<i;s++)this.list[s].isactive=!0,location.reload();var r={};r.tags=this.choosetag,r.remark=this.text,r.money=this.input_num;var o=new Date;if(r.date=this.dateFormat("YYYY-mm-dd",o),!0===this.tab_in&&"0"!==this.input_num){var u=[];void 0===window.localStorage.inmoney?(u=[r],window.localStorage.inmoney=JSON.stringify(u)):(u=JSON.parse(window.localStorage.inmoney),u.push(r),window.localStorage.inmoney=JSON.stringify(u)),alert(window.localStorage.inmoney),this.choosetag=[]}else if(!1===this.tab_in&&"0"!==this.input_num){var c=[];void 0===window.localStorage.output?(c=[r],window.localStorage.output=JSON.stringify(c)):(c=JSON.parse(window.localStorage.output),c.push(r),window.localStorage.output=JSON.stringify(c)),alert(window.localStorage.output)}this.input_num="0",this.choosetag=[]},everytag:function(t){t.isactive=!t.isactive,t.isactive2=!t.isactive2,!0===t.isactive2?this.choosetag.push(t.content):!1===t.isactive2&&this.choosetag.pop(t.content),console.log(this.choosetag)},dateFormat:function(t,n){var e,a={"Y+":n.getFullYear().toString(),"m+":(n.getMonth()+1).toString(),"d+":n.getDate().toString(),"H+":n.getHours().toString(),"M+":n.getMinutes().toString(),"S+":n.getSeconds().toString()};for(var i in a)e=new RegExp("("+i+")").exec(t),e&&(t=t.replace(e[1],1==e[1].length?a[i]:a[i].padStart(e[1].length,"0")));return t}}}),b=v,h=(e("5974"),Object(u["a"])(b,m,g,!1,null,null,null)),y=h.exports,_=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("div",{staticClass:"tagstyle"},[e("b-list-group",t._l(t.list,(function(n,a){return e("b-list-group-item",{key:a,attrs:{button:""},on:{click:function(n){return t.bianji(a)}}},[t._v(t._s(n))])})),1),e("div",{staticStyle:{display:"flex","justify-content":"center"}},[e("b-button",{attrs:{variant:"outline-primary"},on:{click:t.click}},[t._v("新增标签")])],1)],1)])},S=[],w={data:function(){return{list:["衣","食","住","行"]}},mounted:function(){this.list=JSON.parse(localStorage.getItem("tags"))},methods:{bianji:function(t){this.$router.push({path:"/edit",query:{id:t}})},click:function(){var t=prompt("请输入标签");t&&(this.list.push(t),window.localStorage.setItem("tags",JSON.stringify(this.list)))}}},k=w,x=(e("192d"),Object(u["a"])(k,_,S,!1,null,"7ffbc3aa",null)),O=x.exports,C=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("p",{staticStyle:{width:"100%","text-align":"center",height:"50px","background-color":"rgb(141, 141, 141)"}},[t._v("编辑标签")]),e("b-form-input",{model:{value:t.editmessage,callback:function(n){t.editmessage=n},expression:"editmessage"}}),e("div",{staticStyle:{display:"flex","justify-content":"space-around"}},[e("b-button",{attrs:{variant:"danger"},on:{click:t.demessage}},[t._v("删除")]),e("b-button",{attrs:{variant:"success"},on:{click:t.postmessage}},[t._v("确认")])],1)],1)},j=[],q=(e("ea69"),{data:function(){return{editmessage:""}},mounted:function(){var t=this.$route.query.id,n=JSON.parse(localStorage.getItem("tags"));this.editmessage=n[t]},methods:{demessage:function(){var t=this.$route.query.id,n=JSON.parse(localStorage.getItem("tags"));n.splice(t,1),window.localStorage.setItem("tags",JSON.stringify(n)),alert("删除"+this.editmessage+"成功"),this.$router.push({path:"/tag"})},postmessage:function(){var t=this.$route.query.id,n=JSON.parse(localStorage.getItem("tags"));n.splice(t,1,this.editmessage),window.localStorage.setItem("tags",JSON.stringify(n)),alert("添加"+this.editmessage+"成功"),this.$router.push({path:"/tag"})}}}),J=q,N=Object(u["a"])(J,C,j,!1,null,null,null),$=N.exports,A=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"stastic"},[e("b-tabs",{attrs:{"content-class":"mt-3",justified:""}},[e("b-tab",{attrs:{title:"支出",active:""}},[e("b-list-group",[t._l(t.output,(function(n,a){return[e("b-list-group-item",{key:a,staticClass:"d-flex justify-content-between align-items-center",attrs:{variant:"secondary"}},[t._v(" "+t._s(n.date)+" "),e("b-badge",{attrs:{variant:"light"}},[t._v("-￥"+t._s(n.sum))])],1),t._l(n.infoAry,(function(n,a){return e("b-list-group-item",{key:a,staticClass:"d-flex justify-content-between align-items-center"},[e("small",[t._v(" "+t._s(t.aryToString(n.tags))+" "),e("span",{staticClass:"text-muted"},[t._v(t._s(n.note))])]),e("b-badge",{attrs:{variant:"primary",pill:""}},[e("small",[t._v("-"+t._s(n.money))])])],1)}))]}))],2)],1),e("b-tab",{attrs:{title:"收入"}},[e("b-list-group",[t._l(t.income,(function(n,a){return[e("b-list-group-item",{key:a,staticClass:"d-flex justify-content-between align-items-center",attrs:{variant:"secondary"}},[t._v(" "+t._s(n.date)+" "),e("b-badge",{attrs:{variant:"light"}},[t._v("+￥"+t._s(n.sum))])],1),t._l(n.infoAry,(function(n,a){return e("b-list-group-item",{key:a,staticClass:"d-flex justify-content-between align-items-center"},[e("small",[t._v(" "+t._s(t.aryToString(n.tags))+" "),e("span",{staticClass:"text-muted"},[t._v(t._s(n.note))])]),e("b-badge",{staticStyle:{"background-color":"green"},attrs:{variant:"primary",pill:""}},[e("small",[t._v("+"+t._s(n.money))])])],1)}))]}))],2)],1)],1)],1)},I=[],T={data:function(){return{income:[],output:[]}},mounted:function(){var t=window.localStorage.inmoney,n=window.localStorage.output;if(void 0===t||null===t)this.income=null;else{var e=JSON.parse(t);this.income=this.merge(e)}if(void 0===n||null===n)this.output=null;else{var a=JSON.parse(n);this.output=this.merge(a)}},methods:{merge:function(t){var n=[],e=t[0].date,a={};a.date=e,a.sum=0,a.infoAry=[];var i={};i.tags=t[0].tags,i.money=t[0].money,i.note=t[0].remark,a.sum+=parseFloat(i.money),a.infoAry.push(i);for(var s=1;s<t.length;s++){var r=t[s].date;if(r===e){var o={};o.tags=t[s].tags,o.money=t[s].money,o.note=t[s].remark,a.sum+=parseFloat(o.money),a.infoAry.push(o)}else{n.push(a),a={},e=t[s].date,a.date=e,a.sum=0,a.infoAry=[];var u={};u.tags=t[s].tags,u.money=t[s].money,u.note=t[s].remark,a.sum+=parseFloat(u.money),a.infoAry.push(u)}}return n.push(a),n},aryToString:function(t){if(void 0===t||null===t||0===t.length)return"未添加标签";for(var n="",e=0;e<t.length-1;e++)n+=t[e],n+=",";return n+=t[t.length-1],n}}},E=T,F=(e("2d54"),Object(u["a"])(E,A,I,!1,null,"ee3d6fbe",null)),M=F.exports;a["default"].use(f["a"]);var P=new f["a"]({routes:[{path:"/",name:"Record",component:y},{path:"/tag",name:"Tag",component:O},{path:"/stastic",name:"Stastic",component:M},{path:"/edit",name:"Edit",component:$}]}),Y=e("8876");a["default"].use(Y["a"]);var R=new Y["a"].Store({state:{tags:""},mutations:{setTagNew:function(t,n){t.tags=n}}}),D=R;a["default"].use(d["a"]),a["default"].use(p["a"]),a["default"].use(D),a["default"].config.productionTip=!1,new a["default"]({store:D,router:P,render:function(t){return t(l)}}).$mount("#app")},5974:function(t,n,e){"use strict";var a=e("b623"),i=e.n(a);i.a},7369:function(t,n,e){},"8c2b":function(t,n,e){},b623:function(t,n,e){},ee1a:function(t,n,e){}});
//# sourceMappingURL=app.4e3341cd.js.map